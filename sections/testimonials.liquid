{{ 'testimonials.css' | asset_url | stylesheet_tag }}

<section id="testimonials" class="testimonials container-1920 margin-bottom-20">
  <div class="gallery-text-content">
    <h2>{{ section.settings.gallery_title }}</h2>
    <p>{{ section.settings.gallery_subtitle }}</p>
  </div>
  <div class="testimonials-swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide slide-testimonials">
          <article class="testimonials--item">
            <div class="testimonials__author-info">
              <img
                src="{{ block.settings.avatar | image_url}}"
                alt="{{ block.settings.author_name }}'s image"
                height="auto"
                width="auto"
              >
              <cite
                ><span class="author-name">{{ block.settings.author_name }}</span>
                <span class="author-position">{{ block.settings.author_position -}}</span>
              </cite>
            </div>
            <blockquote class="testimonial__quote">
              {{ block.settings.testimonial }}
            </blockquote>
            <div class="testimonial__rating">
              {% for i in (1..5) %}
                <span class="star">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 17.27L16.15 19.78C16.91 20.24 17.8399 19.56 17.6399 18.7L16.54 13.98L20.2099 10.8C20.8799 10.22 20.5199 9.12001 19.6399 9.05001L14.81 8.64001L12.92 4.18001C12.58 3.37001 11.42 3.37001 11.08 4.18001L9.18995 8.63001L4.35995 9.04001C3.47995 9.11001 3.11995 10.21 3.78995 10.79L7.45995 13.97L6.35995 18.69C6.15995 19.55 7.08995 20.23 7.84995 19.77L12 17.27Z" fill="#F4DC00" />
                  </svg>
                </span>
              {% endfor %}
            </div>
          </article>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="arrow-container">
    <div class="testimonials-arrow-left">
      <img src="{{ 'arrow-left-small.png' | asset_url }}" alt="Previous" width="auto" height="auto">
    </div>
    <div class="testimonials-arrow-right">
      <img src="{{ 'arrow-right-small.png' | asset_url }}" alt="Next" width="auto" height="auto">
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.testimonials-swiper', {
      slidesPerView: 1,
      spaceBetween: 10,
      loop: true,
      grabCursor: true,
      navigation: {
        nextEl: '.testimonials-arrow-right',
        prevEl: '.testimonials-arrow-left',
      },
      breakpoints: {
        428: {
          slidesPerView: 1,
        },
        768: {
          slidesPerView: 2,
        },
        1336: {
          slidesPerView: 4,
        },
      },
    });
  });
</script>

{% schema %}
{
  "name": "Testimonials",
  "settings": [
    {
      "type": "text",
      "id": "gallery_title",
      "label": "Gallery Title",
      "default": "What our customers think"
    },
    {
      "type": "textarea",
      "id": "gallery_subtitle",
      "label": "Gallery Subtitle",
      "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur a nunc ultrices, feugiat augue vitae, accumsan quam."
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "text",
          "id": "author_name",
          "label": "Author Name",
          "default": "Mark Toried"
        },
        {
          "type": "textarea",
          "id": "testimonial",
          "label": "Testimonial",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur a nunc ultrices, feugiat augue vitae, accumsan quam.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur a nunc ultrices, feugiat augue vitae, accumsan quam.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur a nunc ultrices, feugiat augue vitae, accumsan quam."
        },
        {
          "type": "text",
          "id": "author_position",
          "label": "Position",
          "default": "Bodybuilder"
        },
        {
          "type": "image_picker",
          "id": "avatar",
          "label": "Author Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials Slider",
      "category": "Custom Category"
    }
  ]
}
{% endschema %}
